<div class="dashboard-container">
  <div class="dashboard-header">
    <h1>Dashboard</h1>
    <p>Bem-vindo! Aqui está o seu progresso de aprendizado.</p>
  </div>

  <div class="progress-section">
    <h2>Meu Progresso</h2>
    <div class="progress-cards">
      <div class="progress-card">
        <div class="card-icon">
          <i class="fas fa-book-open"></i>
        </div>
        <div class="card-content">
          <h3>Lições Concluídas</h3>
          <div class="progress-number">{{ weeklyStats.lessonsCompleted }}</div>
          <div class="progress-bar">
            <div class="progress-fill" [style.width.%]="(weeklyStats.lessonsCompleted / 10) * 100"></div>
          </div>
          <span class="progress-text">{{ weeklyStats.lessonsCompleted }}/10 esta semana</span>
        </div>
      </div>

      <div class="progress-card">
        <div class="card-icon">
          <i class="fas fa-clock"></i>
        </div>
        <div class="card-content">
          <h3>Horas Estudadas</h3>
          <div class="progress-number">{{ weeklyStats.hoursStudied }}</div>
          <div class="progress-bar">
            <div class="progress-fill" [style.width.%]="(weeklyStats.hoursStudied / 20) * 100"></div>
          </div>
          <span class="progress-text">{{ weeklyStats.hoursStudied }}/20 horas esta semana</span>
        </div>
      </div>

      <div class="progress-card">
        <div class="card-icon">
          <i class="fas fa-fire"></i>
        </div>
        <div class="card-content">
          <h3>Sequência</h3>
          <div class="progress-number">{{ weeklyStats.streak }}</div>
          <div class="streak-indicator">
            <i class="fas fa-fire" [class.active]="weeklyStats.streak > 0"></i>
            <span>{{ weeklyStats.streak > 0 ? weeklyStats.streak + ' dias' : 'Comece hoje!' }}</span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="stats-section">
    <h2>Estatísticas</h2>
    
    <!-- Estatísticas quando há cursos matriculados -->
    <div *ngIf="enrolledCourses.length > 0" class="stats-grid-compact">
      <div class="stat-card-compact">
        <div class="stat-icon-compact trophy">
          <i class="fas fa-graduation-cap"></i>
        </div>
        <div class="stat-content-compact">
          <div class="stat-number-compact">{{ enrolledCourses.length }}</div>
          <div class="stat-label-compact">Cursos</div>
        </div>
      </div>

      <div class="stat-card-compact">
        <div class="stat-icon-compact clock">
          <i class="fas fa-clock"></i>
        </div>
        <div class="stat-content-compact">
          <div class="stat-number-compact">{{ studyHours }}h</div>
          <div class="stat-label-compact">Estudadas</div>
        </div>
      </div>

      <div class="stat-card-compact">
        <div class="stat-icon-compact medal">
          <i class="fas fa-medal"></i>
        </div>
        <div class="stat-content-compact">
          <div class="stat-number-compact">{{ currentLevel }}</div>
          <div class="stat-label-compact">Nível</div>
        </div>
      </div>

      <div class="stat-card-compact">
        <div class="stat-icon-compact certificate">
          <i class="fas fa-certificate"></i>
        </div>
        <div class="stat-content-compact">
          <div class="stat-number-compact">{{ certificates }}</div>
          <div class="stat-label-compact">Certificados</div>
        </div>
      </div>

      <div class="stat-card-compact">
        <div class="stat-icon-compact progress">
          <i class="fas fa-chart-line"></i>
        </div>
        <div class="stat-content-compact">
          <div class="stat-number-compact">{{ averageProgress }}%</div>
          <div class="stat-label-compact">Progresso Médio</div>
        </div>
      </div>
    </div>

    <!-- Mensagem quando não há cursos matriculados -->
    <div *ngIf="enrolledCourses.length === 0" class="no-stats-message-compact">
      <div class="no-stats-content">
        <i class="fas fa-chart-line"></i>
        <span>Matricule-se em um curso para ver suas estatísticas</span>
      </div>
      <button class="btn-start-compact" (click)="navigateToMyCourses()">
        Começar Agora
      </button>
    </div>
  </div>

  <div class="courses-section">
    <h2>Meus Cursos</h2>
    <div class="enrolled-courses-grid" *ngIf="enrolledCourses.length > 0; else noCourses">
      <div class="enrolled-course-card" *ngFor="let course of enrolledCourses">
        <div class="enrolled-course-header">
          <div class="enrolled-course-info">
            <h3>{{ course.title }}</h3>
            <p class="enrolled-course-instructor">{{ course.instructor }}</p>
          </div>
        </div>
        <div class="enrolled-course-progress">
          <h4>Progresso <span class="progress-percentage">{{ course.progress || 0 }}%</span></h4>
          <div class="enrolled-progress-bar">
            <div class="enrolled-progress-fill" [style.width.%]="course.progress || 0"></div>
          </div>
        </div>
      </div>
    </div>

    <ng-template #noCourses>
      <div class="no-courses-message">
        <i class="fas fa-graduation-cap"></i>
        <h3>Nenhum curso matriculado</h3>
        <p>Explore nossos cursos disponíveis e comece sua jornada de aprendizado!</p>
      </div>
    </ng-template>
  </div>


</div>